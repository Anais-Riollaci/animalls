{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link rel="stylesheet" href="{{ asset('style/gestion_category.css') }}">
{% endblock %}

{% block body %}
<section class="gestion-categorie">
    <div class="col text-center">
        <button id="bouton">Crée une catégorie</button>
    </div>

    <div class="hide" id="formToHide">

        {{ form_start(NewCategory) }}
        {{ form_row(NewCategory.title, { 'label': 'Titre' }) }}
        {{ form_row(NewCategory.photo, { 'label': 'Photo' }) }}
        {{ form_end(NewCategory) }}

    </div>
    <table class="table category-table">
        <thead class="thead-orange">
        <tr>
            <th colspan="3" scope="col">Catégories</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>ID</td>
            <td>Nom</td>
            <td>Photo</td>
        </tr>
        <tr>
            {% for category in categories %}
            <td>{{ category.id }}</td>
            <td>{{ category.title }}</td>
            <td class="d-none d-sm-table-cell"><img src="{{ category.photo }}"></td>
            <td style="text-align: right;">
                <a href="{{ path('app_admin_gestioncategory_change', { 'id' : category.id }) }}">
                    <button type="submit"  class="btn btn-outline-warning"><i class="far fa-edit"></i></button>
                </a>

                <a href="{{ path('app_admin_gestioncategory_delete', { 'id' : category.id }) }}">
                    <button type="submit" class="btn btn-outline-danger"><i class="fas fa-trash-alt"></i></button>
                </a>
            </td>
        <tr>
            {% endfor %}
        </tr>
        </tbody>
    </table>

</section>


{% endblock %}

{% block javascripts %}
    <script src="{{ asset('scripts/gestion_category.js') }}"></script>
{% endblock %}
